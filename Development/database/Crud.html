<!DOCTYPE html>
<html>
	<head>
		<title>CRUD</title>
		<meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.4/angular.min.js"></script>
		<script>
			var app = angular.module('myApp',[]);
			app.controller('myCtrl',function($scope){
				$scope.items = [];
				$scope.addItem = function(item){
					$scope.items.push(item);
					$scope.item = {};
				};

				$scope.removeItem = function(index){
					console.log(index);
					console.log($scope.items);
					var index=index;
					$scope.items.splice(index,1)
					console.log('1 '+$scope.items);
				};

				$scope.editItem = function(index){
					$scope.editing = $scope.items.indexOf(index);
				};
			});
		</script>
	</head>


	<body ng-app="myApp" ng-controller = "myCtrl" class = "container">
		<table class = "table table-striped table-bordered">
			<tr>
				<td>ID</td>
				<td>
					<input type = "text" class="form-control" ng-model="item.id" />
				</td>
			</tr>

			<tr>
				<td>Name</td>
				<td>
					<input type = "text" class="form-control" ng-model="item.name" />
				</td>
			</tr>

			<tr>
				<td>Email Id</td>
				<td>
					<input type = "email" class="form-control" ng-model="item.email" />
				</td>
			</tr>

			<tr>
				<td>Password</td>
				<td>
					<input type = "password" class="form-control" ng-model="item.password" />
				</td>
			</tr>

			<tr>
				<td>Phone</td>
				<td>
					<input type = "text" class="form-control" ng-model="item.phone" />
				</td>
			</tr>

			<tr>
				<td class="text-right" colspan="2">
					<button ng-click="addItem(item)" class = "btn btn-primary">Add</button>
				</td>
			</tr>

		</table>

		<table class="table table-striped table table-bordered">
			<thead>
				<tr>
					<th>ID</th>
					<th>Name</th>
					<th>Email id</th>
					<th>Phone</th>
					<th>Edit</th>
					<th>Remove</th>
				</tr>
			</thead>
			<tbody>
				<tr ng-repeat = "item in items">
					<td><span ng-hide="editMode">{{item.id}}</span> 
						<input type = "text" ng-show = "editMode" ng-model = "item.id"/></td>

						<td><span ng-hide="editMode">{{item.name}}</span> 
						<input type = "text" ng-show = "editMode" ng-model = "item.name"/></td>

						<td><span ng-hide="editMode">{{item.email}}</span> 
						<input type = "text" ng-show = "editMode" ng-model = "item.email"/></td>
						
						<td><span ng-hide="editMode">{{item.phone}}</span> 
						<input type = "text" ng-show = "editMode" ng-model = "item.phone"/></td>

						<td>
							<i ng-hide="editMode" ng-click="editMode = true; editItem(item)" class="glyphicon glyphicon-edit"></i>

							<i class="glyphicon glyphicon-saved" ng-show="editMode" ng-click="editMode=false"></i>
						</td>

						<td>
							<i ng-click="removeItem($index)" class="glyphicon glyphicon-trash"></i>
						</td>
				</tr>
			</tbody>
		</table>
		
	</body>

</html>